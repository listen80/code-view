<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>codejs</title>
  <link rel="stylesheet" href="../src/code.css" />
</head>

<body>
  <xmp code type="text/html"></xmp>
  <script type="text/javascript" src="https://cdn.bootcss.com/axios/0.19.0/axios.min.js"></script>
  <script src="../src/code.js"></script>
  <script type="text/javascript">
  let config = {
    jquery: "https://cdn.bootcss.com/jquery/2.0.0/jquery.js",
    vue: "https://cdn.bootcss.com/vue/2.6.10/vue.common.dev.js",
    react: "https://cdn.bootcss.com/react/16.9.0/cjs/react.development.js",
    "twitter-bootstrap": "https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.js",
  };
  let search = "jquery";

  if (location.search) {
    search = location.search.substr(1)
  }

  function format(data) {
    document
      .querySelector("xmp")
      .appendChild(code.createElement(code(data)));
    document.querySelector("xmp").style.display = "block"
  }
  axios
    .get(config[search])
    .then(function(response) {
      format(response.data)
    })
    .catch(function(error) {
      format(error.response.data);
    });
  </script>
</body>

</html>